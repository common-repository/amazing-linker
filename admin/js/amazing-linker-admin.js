(function(a,b,c){function d(b){var a=b.html();a=a.replace('amazing-linker-','<span class="amazing-linker-widget-logo-icon"></span>'),b.html(a);}'amazingLinkerActiveIndex'in localStorage?(a('.amazing-linker-tab ul.amazing-linker-tabs').find('> li:eq('+localStorage.getItem('amazingLinkerActiveIndex')+')').addClass('amazing-linker-current'),a('.amazing-linker-tab-content').find('> .amazing-linker-tabs-item:eq('+localStorage.getItem('amazingLinkerActiveIndex')+')').addClass('amazing-linker-display-block')):(a('.amazing-linker-tab ul.amazing-linker-tabs').find('> li:eq(0)').addClass('amazing-linker-current'),a('.amazing-linker-tab-content').find('> .amazing-linker-tabs-item:eq(0)').addClass('amazing-linker-display-block')),a('.amazing-linker-tab ul.amazing-linker-tabs li a').click(function(d){var b=a(this).closest('.amazing-linker-tab'),c=a(this).closest('li').index();localStorage.setItem('amazingLinkerActiveIndex',c),b.find('ul.amazing-linker-tabs > li').removeClass('amazing-linker-current'),a(this).closest('li').addClass('amazing-linker-current'),b.find('.amazing-linker-tab-content').find('div.amazing-linker-tabs-item').not('div.amazing-linker-tabs-item:eq('+c+')').slideUp(),b.find('.amazing-linker-tab-content').find('div.amazing-linker-tabs-item:eq('+c+')').slideDown(),d.preventDefault();}),a('.widget-title h3:contains(amazing-linker-)').each(function(){d(a(this));}),a('.change-country-flag').on('change',function(){country=a(this).val(),country!='com'?(a('.amazing-linker-onelink-helper').css('display','block'),a('.amazing-linker-onelink-input-field').attr('disabled','disabled')):(a('.amazing-linker-onelink-helper').css('display','none'),a('.amazing-linker-onelink-input-field').removeAttr('disabled')),a.ajax({url:amazing_linker_ajax_obj.amazing_linker_ajax_url,type:'post',data:{_ajax_nonce:amazing_linker_ajax_obj.nonce,action:'amazing_linker_get_country_flag',country:country},success:function(b){b.success&&(a('.country-select-field span').removeAttr('class'),a('.country-select-field span').addClass(b.data.class));}});}),a('.amazing-linker-review-notice ul li a').on('click',function(c){c.preventDefault();let b=a(this).attr('val');b=='given'&&window.open('https://wordpress.org/plugins/amazing-linker/reviews/?rate=5#new-post','_blank'),a('.amazing-linker-review-notice').slideUp(200,'linear'),a.ajax({url:amazing_linker_ajax_obj.amazing_linker_ajax_url,type:'post',data:{_ajax_nonce:amazing_linker_ajax_obj.nonce,action:'amazing_linker_save_review_notice',notice:b},success:function(a){}});}),a('.amazing-linker-update-btn').on('click',function(b){b.preventDefault(),a(this).html('<img src="'+document.location.origin+'/wp-content/plugins/amazing-linker/public/images/spinner.gif" alt="spinner.gif">&nbsp;&nbsp;&nbsp;Updating...'),a(this).attr('disabled','disabled'),a('.amazing-linker-update-status').text(''),a.ajax({url:amazing_linker_ajax_obj.amazing_linker_ajax_url,type:'post',data:{_ajax_nonce:amazing_linker_ajax_obj.nonce,action:'amazing_linker_update_now'},success:function(b){b.success&&(a('.amazing-linker-update-btn').removeAttr('disabled'),a('.amazing-linker-update-btn').html('<span class="dashicons dashicons-yes"></span>&nbsp;&nbsp;&nbsp;Success'),a('.amazing-linker-update-status').text('Update will complete within next few minutes.'),a('.amazing-linker-update-status').delay(5000).slideUp());}});}),a('.amazing-linker-colorpicker-input-field').wpColorPicker(),a('#code_editor_page_css').length&&(b=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{},b.codemirror=_.extend({},b.codemirror,{indentUnit:2,tabSize:2,mode:'css'}),c=wp.codeEditor.initialize(a('#code_editor_page_css'),b)),a(function(){var b=a('#amazing_linker_deactive_plugin-modal');var c='';a(document).on('click','a.amazing-linker-deactivate-link',function(d){d.preventDefault(),b.addClass('modal-active'),c=a(this).attr('href'),b.find('a.amazing-linker-skip-deactivate').attr('href',c).css('float','right');}),b.on('click','.amazing-linker-cancel-button',function(a){a.preventDefault(),b.removeClass('modal-active');}),b.on('click','input[type="radio"]',function(){var c=a(this).parents('li:first');b.find('.reason-input').remove();var d=c.data('type'),e=c.data('placeholder'),f='text'===d?'<div class="reason-input"><input type="text" size="40" /></div>':'<div class="reason-input"><textarea rows="5" cols="45"></textarea></div>';d!==''&&(c.append(a(f)),c.find('input, textarea').attr('placeholder',e).focus());}),b.on('click','.amazing-linker-deactivate-button',function(h){h.preventDefault();var d=a(this);if(d.hasClass('disabled'))return;var e=a('input[type="radio"]:checked',b);var g=e.parents('li:first'),f=g.find('textarea, input[type="text"]');a.ajax({url:amazing_linker_ajax_obj.amazing_linker_ajax_url,type:'POST',data:{_ajax_nonce:amazing_linker_ajax_obj.nonce,action:'amazing-linker-submit-deactivate-reason',reason_id:0===e.length?'none':e.val(),reason_info:0!==f.length?f.val().trim():''},beforeSend:function(){d.addClass('disabled'),d.text('Processing...');},complete:function(a){window.location.href=c;},error:function(a){}});});});}(jQuery));